---
title: "11_DataCleaning"
author: "Faith Ang, Ria Mathew, Xuan Wei Ding"
date: "2025-11-04"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Data Cleaning

Data often needs to be cleaned. This ensures the best dataset to use for analysis.

```{r}
## put the csv here
source("00_requirements.R")

#reads csv and names it for easy callback
hateCrime <- read_csv("hate_crime.csv")
```

## Cleaning the Data

First, we will remove any rows with missing values. Then, we will convert categorical variables to factors.
This is done using functions defined in "01_funct_DataCleaning.R".
This sources functions from that file and applies them to the `hateCrime` dataset.

```{r, echo=FALSE}

source("01_funct_DataCleaning.R")
hateCrime_Clean <- remove_na(hateCrime)

hateCrime_Final <- to_factors(hateCrime_Clean)
```

Now, we can view the cleaned dataset.
```{r}
head(hateCrime_Final, 10)
```

The Question that we want to focus on is: 

"Which groups (racial, religious, gender, etc...) are most frequently targeted, and what events may have caused the increase or decrease of certain types of hate crime over the years?"

In order to answer this, it would be good to visualize the data and determine what can be gleaned from the data

Here are the list of variables available to us.
```{r}
colnames(hateCrime)
```

Of all of the variables, only few are relevant or useful to the study that will be conducted. These Variables are:

1. race of the offender : same
2. year : year of offense
3. state : state which offense took place
4. bias : group that hate crime was committed against
5. offense: what the offense type was (ie intimidation, actual assault) dictating the severity of the crime as well
6. victim count: how many victims per case

They are important because we want to draw comparisons between the variabes to draw conclusions that will lead us closer towards answering our overall questions. Below are some of the ways we will use the aforementioned variables to 

1. count the number of offenses per bias to see which group is most targeted
2. count the number of offenses per race to see which group is more likely to be the offender
3. how has the number of offenses changed over the years 
4. variation by state of types of offenses
5. how many of each type of offense there is and compare
6. how biases and offense correlate (eg. do asians experience intimidation based hate crimes or assult based hate crimes)


```{r}
hateCrime_Final <- data_rename(hateCrime_Final)
# checking if the variables are named
head(hateCrime_Final)
```

```{r}

```






